@model WebApplication1.DTO.UserDto

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script hidden src="https://api-maps.yandex.ru/v3/?apikey=46514e07-4df3-4059-9c68-309be409aa4b&lang=ru_RU"></script>
<script src="~/js/Map.js" asp-append-version="true"></script>
<script src="~/js/Account.js" asp-append-version="true"></script>
<link rel="stylesheet" href="~/css/Map.css" asp-append-version="true" />

<div class="menu-content-wrapper">
<div class="account-content">
	<div class="personal-data-header">
		<div class="personal-data-header-name">Личные данные</div>
		<svg class="line" width="1320" height="2" viewBox="0 0 1320 2" fill="none" xmlns="http://www.w3.org/2000/svg">
			<line x1="-8.74228e-08" y1="1" x2="1320" y2="0.999885" stroke="black" stroke-width="2" />
		</svg>

		<div class="personal-data">
			@if (Model.name != null)
			{
					<div class="user-name">Имя: @Model.name</div>
			}
			else
			{
				<div class="user-name">Имя: не указано</div>
			}
			@if (Model.phone != "")
			{
				<div class="user-phone">Номер телефона: +@Model.phone</div>
			}
			else
			{
				<div class="user-phone">Номер телефона: не указан</div>
			}
			@if (Model.phone == null || Model.name == null)
			{
				<div id="send-phone">Указать телефон</div>
			}
		</div>
	</div>
	<div class="addresses-data-header">
		<div class="addresses-data-header-name">Сохраненные адреса</div>
		<svg class="line" width="1320" height="2" viewBox="0 0 1320 2" fill="none" xmlns="http://www.w3.org/2000/svg">
			<line x1="-8.74228e-08" y1="1" x2="1320" y2="0.999885" stroke="black" stroke-width="2" />
		</svg>
		@foreach(var address in ViewBag.Addresses)
		{
			
			<div class="full-address">@address.City, @address.Street, @address.House, @address.Apartment
				<div class="change-button" id=@address.AddressId>Изменить</div>
				<svg class="delete-button" id=@address.AddressId fill="#FFFFFF" viewBox="-13 -13 75 75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M21 0C19.355469 0 18 1.355469 18 3L18 4L9.6875 4C8.453125 4 7.375 4.847656 6.96875 6C4.808594 6.070313 3.066406 7.847656 3 10.0625C3.035156 10.585938 3.46875 11 4 11L46 11C46.53125 11 46.96875 10.585938 47 10.0625C46.933594 7.847656 45.191406 6.070313 43.03125 6C42.625 4.847656 41.546875 4 40.3125 4L32 4L32 3C32 1.355469 30.644531 0 29 0 Z M 21 2L29 2C29.554688 2 30 2.445313 30 3L30 4L20 4L20 3C20 2.445313 20.445313 2 21 2 Z M 5.28125 13L10.21875 46.75C10.488281 48.636719 12.074219 50 14 50L36 50C37.851563 50 39.359375 48.722656 39.78125 46.75L44.71875 13 Z M 12.28125 16.3125C12.828125 16.246094 13.332031 16.609375 13.40625 17.15625L16.6875 42.0625C16.757813 42.609375 16.390625 43.117188 15.84375 43.1875C15.800781 43.195313 15.730469 43.1875 15.6875 43.1875C15.195313 43.1875 14.785156 42.847656 14.71875 42.34375L11.40625 17.4375C11.332031 16.890625 11.734375 16.386719 12.28125 16.3125 Z M 20.75 16.3125C21.277344 16.285156 21.789063 16.695313 21.8125 17.25L22.90625 42.15625C22.929688 42.707031 22.488281 43.164063 21.9375 43.1875C21.921875 43.1875 21.921875 43.1875 21.90625 43.1875C21.375 43.1875 20.929688 42.785156 20.90625 42.25L19.8125 17.34375C19.789063 16.792969 20.199219 16.335938 20.75 16.3125 Z M 29.25 16.3125C29.800781 16.335938 30.210938 16.792969 30.1875 17.34375L29.09375 42.25C29.070313 42.785156 28.625 43.1875 28.09375 43.1875C28.078125 43.1875 28.078125 43.1875 28.0625 43.1875C27.511719 43.164063 27.070313 42.707031 27.09375 42.15625L28.1875 17.25C28.210938 16.699219 28.707031 16.300781 29.25 16.3125 Z M 37.71875 16.3125C38.265625 16.382813 38.667969 16.890625 38.59375 17.4375L35.28125 42.34375C35.214844 42.847656 34.804688 43.1875 34.3125 43.1875C34.269531 43.1875 34.203125 43.195313 34.15625 43.1875C33.609375 43.117188 33.238281 42.609375 33.3125 42.0625L36.59375 17.15625C36.664063 16.609375 37.167969 16.242188 37.71875 16.3125Z" /></svg>
			</div>
		}
		<div class="add-button">Добавить</div>
	</div>
	<div class="order-data-header">
		<div class="order-data-header-name">Ваши заказы:</div>
		<svg class="line" width="1320" height="2" viewBox="0 0 1320 2" fill="none" xmlns="http://www.w3.org/2000/svg">
			<line x1="-8.74228e-08" y1="1" x2="1320" y2="0.999885" stroke="black" stroke-width="2" />
		</svg>
		@foreach (var order in ViewBag.Orders)
		{
			<div class="order-data">
				<div class="Order">Дата заказа - @order.DateTime.Hour:@order.DateTime.Minute:@order.DateTime.Second, @order.DateTime.Day.@order.DateTime.Month.@order.DateTime.Year, Адрес заказа - @order.Address.City, @order.Address.Street, @order.Address.House</div>
				<div class="Products">Товары:
					@foreach (var orderElem in order.Products)
					{
						<div class="product">@orderElem.Product.Name - @orderElem.Product.Price - @orderElem.Count</div>
					}
				</div>
				
			</div>
		}
	</div>

		<div class="booking-data-header">
			<div class="booking-data-header-name">Ваши бронирования:</div>
			<svg class="line" width="1320" height="2" viewBox="0 0 1320 2" fill="none" xmlns="http://www.w3.org/2000/svg">
				<line x1="-8.74228e-08" y1="1" x2="1320" y2="0.999885" stroke="black" stroke-width="2" />
			</svg>
			@foreach (var booking in ViewBag.Bookings)
			{
				<div class="booking-data">
					<div class="booking">
						Дата - @booking.Time, на время - @booking.Interval ч, Стол - №@booking.Table
					</div>
					<div class="booking-delete-button" id="@booking.BookingId">Удалить</div>
				</div>
			}
		</div>
</div>
	<div class="map-modal">
		<div class="close">&times;</div>
		<div class="map-modal-header">
			<div class="map-modal-header-name">Выберите адрес:</div>
		</div>
		<div id="map">
			<svg xmlns="http://www.w3.org/2000/svg" width="512px" height="512px" class="center-marker" fill="#E67225">
				<path d="M256,0C167.625,0,96,71.625,96,160c0,23.875,5.25,46.563,14.594 66.875l121.875,264.469C238.313,504.062,246.688,512,256,512c9.312,0 17.688-7.938,23.531-20.625l121.875-264.5C410.781,206.563,416,183.875 416,160C416,71.625,344.375,0,256,0z M256,256c-53,0-96-43-96-96s43-96 96-96s96,43,96,96S309,256,256,256" />
			</svg>
		</div>
		<div class="map-modal-footer">
			<div class="address-data">
				<div class="name">
					Город:
					<input class="input-address" id="city">
				</div>

				<div class="name">
					Улица:
					<input class="input-address" id="street">
				</div>

				<div class="name">
					Дом:
					<input class="input-address" id="house">
				</div>

				<div class="name">
					Квартира:
					<input class="input-address" id="apartment">
				</div>

			</div>
		</div>
		<div id="send-address-data">Сохранить</div>
	</div>
</div>

@* <div class="map-modal">
	<div class="close">&times;</div>
	<div class="map-modal-header">
		<div class="map-modal-header-name">Выберите адрес:</div>
	</div>
	<div id="map">
		<svg xmlns="http://www.w3.org/2000/svg" width="512px" height="512px" class="center-marker" fill="#E67225">
			<path d="M256,0C167.625,0,96,71.625,96,160c0,23.875,5.25,46.563,14.594 66.875l121.875,264.469C238.313,504.062,246.688,512,256,512c9.312,0 17.688-7.938,23.531-20.625l121.875-264.5C410.781,206.563,416,183.875 416,160C416,71.625,344.375,0,256,0z M256,256c-53,0-96-43-96-96s43-96 96-96s96,43,96,96S309,256,256,256" />
		</svg>
	</div>
	<div class="map-modal-footer">
		<div class="address-data">
			<div class="name">
				Город:
				<input class="input-address" id="city">
			</div>

			<div class="name">
				Улица:
				<input class="input-address" id="street">
			</div>

			<div class="name">
				Дом:
				<input class="input-address" id="house">
			</div>

			<div class="name">
				Квартира:
				<input class="input-address" id="apartment">
			</div>

		</div>
	</div>
	<div id="send-address-data">Сохранить</div>
</div> *@

<div class="phone-modal">
	<div class="phone-modal-header">
		<div class="phone-modal-header-name">Авторизация</div>
		<div class="close">&times;</div>
	</div>
	<div class="phone-modal-content" id="content-send-phone">
		<div class="description">Укажите номер телефона по которому мы отправим вам код подтвержения для входа</div>
		<input type="tel"
			   id="phone-input"
			   pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
			   required />
		<div class="send-phone-data">отправить</div>
	</div>
	<div class="phone-modal-content" id="content-send-code">
		<div class="description">Введите 6-значный код, отпраленный на номер телефона.</div>
		<div class="attention">Если код не пришел, нажмите на “повторить”</div>
		<div class="code-timer">120</div>
		<input id="code-input"
			   required />
		<div class="send-code-data">отправить</div>
		<div class="send-code-again denied" id="send-again">повторить</div>
	</div>
	<div class="phone-modal-content" id="content-send-name">
		<div class="description">Укажите ваше имя:</div>
		<input id="name-input"
			   required />
		<div class="send-name-data">сохранить</div>
	</div>
</div>
